(this.webpackJsonp=this.webpackJsonp||[]).push([["test-slider"],{"2gFg":function(e){e.exports=JSON.parse('{"sw-cms":{"elements":{"general":{"config":{"caption":{"mediaUpload":"Lade ein Bild hoch"},"label":{"verticalAlign":"Vertikal ausrichten","verticalAlignTop":"Oben","verticalAlignCenter":"Center","verticalAlignBottom":"Unten","displayMode":"Anzeigemodus","displayModeStandard":"Standard","displayModeCover":"Decken","displayModeStretch":"Strecken","displayModeContain":"Enthalten"},"tab":{"content":"Inhalt","settings":"Einstellungen"}}},"testSlider":{"label":"Test Slider"}},"blocks":{"image":{"testSlider":{"label":"Test Slider"}}}}}')},"3Xde":function(e,t){e.exports='{% block sw_cms_element_test_slider_preview %}\n    <div class="sw-cms-el-preview-test-slider">\n        <sw-icon name="default-arrow-head-left" size="20"></sw-icon>\n        <div>\n            <img :src="\'/administration/static/img/cms/preview_mountain_small.jpg\' | asset">\n        </div>\n        <sw-icon name="default-arrow-head-right" size="20"></sw-icon>\n    </div>\n{% endblock %}'},"5eAP":function(e,t,s){var i=s("mkOS");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,s("SZ7m").default)("abbe0246",i,!0,{})},Ejt8:function(e,t){e.exports='{% block sw_cms_element_test_slider %}\n    <div class="sw-cms-el-test-slider" :class="outsideNavArrows" :style="verticalAlignStyle">\n        {% block sw_cms_element_test_slider_img %}\n            <div class="sw-cms-el-test-slider__image-box" :class="displayModeClass" :style="styles">\n                <img class="sw-cms-el-test-slider__image" :src="imgSrc">\n            </div>\n        {% endblock %}\n\n        <template v-if="element.data !== null">\n            {% block sw_cms_element_test_slider_nav %}\n                <div class="sw-cms-el-test-slider__navigation">\n                    {% block sw_cms_element_test_slider_nav_dots %}\n                        <div v-if="element.config.navigationDots.value !== null"\n                             class="sw-cms-el-test-slider__navigation-dots"\n                             :class="`is--nav-${element.config.navigationDots.value}`">\n                            <div class="sw-cms-el-test-slider__navigation-buttons">\n                                <template v-if="sliderItems.length > 0">\n                                    <div v-for="(sliderItem, index) in sliderItems"\n                                         :class="activeButtonClass(sliderItem.media.url)"\n                                         @click="setSliderItem(sliderItem.media, index)"\n                                         class="sw-cms-el-test-slider__navigation-button">\n                                    </div>\n                                </template>\n                                <template v-else>\n                                    <div class="sw-cms-el-test-slider__navigation-button is--active"></div>\n                                    <div class="sw-cms-el-test-slider__navigation-button"></div>\n                                    <div class="sw-cms-el-test-slider__navigation-button"></div>\n                                </template>\n                            </div>\n                        </div>\n                    {% endblock %}\n                    {% block sw_cms_element_test_slider_nav_arrows %}\n                        <div v-if="element.config.navigationArrows.value !== null"\n                             class="sw-cms-el-test-slider__navigation-arrows"\n                             :class="`is--nav-${element.config.navigationArrows.value}`">\n                            <sw-icon @click="setSliderArrowItem(-1)"\n                                     class="sw-cms-el-test-slider__navigation-button"\n                                     name="default-arrow-head-left"\n                                     size="24">\n                            </sw-icon>\n                            <sw-icon @click="setSliderArrowItem()"\n                                     class="sw-cms-el-test-slider__navigation-button"\n                                     name="default-arrow-head-right"\n                                     size="24">\n                            </sw-icon>\n                        </div>\n                    {% endblock %}\n                </div>\n            {% endblock %}\n        </template>\n\n        <template v-else>\n            {% block sw_cms_element_test_slider_nav_default %}\n                <div class="sw-cms-el-test-slider__navigation">\n                    <div class="sw-cms-el-test-slider__navigation-arrows is--nav-outside">\n                        <sw-icon class="sw-cms-el-test-slider__navigation-button"\n                                 name="default-arrow-head-left"\n                                 size="24">\n                        </sw-icon>\n                        <sw-icon class="sw-cms-el-test-slider__navigation-button"\n                                 name="default-arrow-head-right"\n                                 size="24">\n                        </sw-icon>\n                    </div>\n                </div>\n            {% endblock %}\n        </template>\n    </div>\n{% endblock %}'},HzgH:function(e,t,s){var i=s("IK5r");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,s("SZ7m").default)("71dfb4bf",i,!0,{})},IK5r:function(e,t,s){},"IL6/":function(e,t,s){},ImFT:function(e,t,s){"use strict";s.r(t);var i=s("xTHp"),n=s.n(i);const{Component:l}=Shopware;l.register("sw-cms-block-test-slider",{template:n.a});var a=s("TOIP"),o=s.n(a);s("HzgH");const{Component:c}=Shopware;c.register("sw-cms-block-preview-test-slider",{template:o.a}),Shopware.Service("cmsService").registerCmsBlock({name:"test-slider-block",label:"sw-cms.blocks.image.testSlider.label",category:"image",component:"sw-cms-block-test-slider",previewComponent:"sw-cms-block-preview-test-slider",defaultConfig:{marginBottom:"20px",marginTop:"20px",marginLeft:"20px",marginRight:"20px",sizingMode:"boxed"},slots:{testSlider:{type:"test-slider-block",default:{config:{displayMode:{source:"static",value:"cover"}},data:{media:{url:"/administration/static/img/cms/preview_camera_large.jpg"}}}}}});var d=s("Ejt8"),m=s.n(d);s("kmML");const{Component:r,Mixin:g}=Shopware;r.register("sw-cms-el-test-slider",{template:m.a,mixins:[g.getByName("cms-element")],props:{activeMedia:{type:[Object,null],required:!1,default:null}},data:()=>({columnCount:7,columnWidth:90,sliderPos:0,imgPath:"/administration/static/img/cms/preview_plant_small.jpg",imgSrc:""}),computed:{gridAutoRows(){return`grid-auto-rows: ${this.columnWidth}`},uploadTag(){return`cms-element-media-config-${this.element.id}`},sliderItems(){return this.element.data&&this.element.data.sliderItems&&this.element.data.sliderItems.length>0?this.element.data.sliderItems:[]},displayModeClass(){return"standard"===this.element.config.displayMode.value?null:`is--${this.element.config.displayMode.value}`},styles(){return"cover"===this.element.config.displayMode.value&&0!==this.element.config.minHeight.value?{"min-height":this.element.config.minHeight.value}:{}},outsideNavArrows(){return"outside"===this.element.config.navigationArrows.value?"has--outside-arrows":null},verticalAlignStyle(){return this.element.config.verticalAlign.value?`align-self: ${this.element.config.verticalAlign.value};`:null},contextAssetPath:()=>Shopware.Context.api.assetsPath},watch:{"element.data.sliderItems":{handler(){this.sliderItems.length>0?(this.imgSrc=this.sliderItems[0].media.url,this.$emit("active-image-change",this.sliderItems[0].media)):this.imgSrc=`${this.contextAssetPath}${this.imgPath}`},deep:!0},activeMedia(){this.sliderPos=this.activeMedia.sliderIndex,this.imgSrc=this.activeMedia.url}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("test-slider"),this.initElementData("test-slider"),this.element.data&&this.element.data.sliderItems&&this.element.data.sliderItems.length>0?(this.imgSrc=this.sliderItems[0].media.url,this.$emit("active-image-change",this.sliderItems[this.sliderPos].media)):this.imgSrc=`${this.contextAssetPath}${this.imgPath}`},setSliderItem(e,t){this.imgSrc=e.url,this.$emit("active-image-change",e,t)},activeButtonClass(e){return{"is--active":this.imgSrc===e}},setSliderArrowItem(e=1){this.sliderItems.length<2||(this.sliderPos+=e,this.sliderPos<0&&(this.sliderPos=this.sliderItems.length-1),this.sliderPos>this.sliderItems.length-1&&(this.sliderPos=0),this.imgSrc=this.sliderItems[this.sliderPos].media.url,this.$emit("active-image-change",this.sliderItems[this.sliderPos].media,this.sliderPos))}}});var _=s("q4SJ"),v=s.n(_);s("z7cm");const{Component:p,Mixin:w}=Shopware,{cloneDeep:u}=Shopware.Utils.object,h=Shopware.Data.Criteria;p.register("sw-cms-el-config-test-slider",{template:v.a,mixins:[w.getByName("cms-element")],inject:["repositoryFactory"],data(){return{mediaModalIsOpen:!1,initialFolderId:null,entity:this.element,mediaItems:[]}},computed:{uploadTag(){return`cms-element-media-config-${this.element.id}`},mediaRepository(){return this.repositoryFactory.create("media")},defaultFolderName(){return this.cmsPageState.pageEntityName},items(){return this.element.config&&this.element.config.sliderItems&&this.element.config.sliderItems.value?this.element.config.sliderItems.value:[]}},created(){this.createdComponent()},methods:{async createdComponent(){if(this.initElementConfig("test-slider"),this.element.config.sliderItems.value.length>0){const e=this.element.config.sliderItems.value.map(e=>e.mediaId),t=new h;t.setIds(e);const s=await this.mediaRepository.search(t,Shopware.Context.api);this.mediaItems=e.map(e=>s.get(e))}},onImageUpload(e){this.element.config.sliderItems.value.push({mediaUrl:e.url,mediaId:e.id,url:null,newTab:!1}),this.mediaItems.push(e),this.updateMediaDataValue(),this.emitUpdateEl()},onItemRemove(e,t){const s=e.id,{value:i}=this.element.config.sliderItems;this.element.config.sliderItems.value=i.filter((e,i)=>e.mediaId!==s||i!==t),this.mediaItems=this.mediaItems.filter((e,i)=>e.id!==s||i!==t),this.updateMediaDataValue(),this.emitUpdateEl()},onCloseMediaModal(){this.mediaModalIsOpen=!1},onMediaSelectionChange(e){e.forEach(e=>{this.element.config.sliderItems.value.push({mediaUrl:e.url,mediaId:e.id,url:null,newTab:!1})}),this.mediaItems.push(...e),this.updateMediaDataValue(),this.emitUpdateEl()},updateMediaDataValue(){if(this.element.config.sliderItems.value){const e=u(this.element.config.sliderItems.value);e.forEach(e=>{this.mediaItems.forEach(t=>{e.mediaId===t.id&&(e.media=t)})}),this.$set(this.element.data,"sliderItems",e)}},onOpenMediaModal(){this.mediaModalIsOpen=!0},onChangeMinHeight(e){this.element.config.minHeight.value=null===e?"":e,this.$emit("element-update",this.element)},onChangeDisplayMode(e){"cover"===e?this.element.config.verticalAlign.value=null:this.element.config.minHeight.value="",this.$emit("element-update",this.element)},emitUpdateEl(){this.$emit("element-update",this.element)}}});var f=s("3Xde"),b=s.n(f);s("5eAP");const{Component:k}=Shopware;k.register("sw-cms-el-preview-test-slider",{template:b.a}),Shopware.Service("cmsService").registerCmsElement({name:"test-slider",label:"sw-cms.elements.testSlider.label",category:"image",component:"sw-cms-el-test-slider",configComponent:"sw-cms-el-config-test-slider",previewComponent:"sw-cms-el-preview-test-slider",defaultConfig:{sliderItems:{source:"static",value:[],required:!0,entity:{name:"media"}},navigationArrows:{source:"static",value:"inside"},navigationDots:{source:"static",value:"inside"},displayMode:{source:"static",value:"standard"},minHeight:{source:"static",value:"300px"}},slots:{"test-slider":{type:"test-slider",default:{config:{displayMode:{source:"static",value:"cover"}},data:{media:{url:"/administration/static/img/cms/preview_camera_large.jpg"}}}}},enrich:function(e,t){Object.keys(t).length<1||Object.keys(e.config).forEach(s=>{const i=e.config[s].entity;if(!i)return;const n=i.name;t[`entity-${n}`]&&(e.data[s]=[],e.config[s].value.forEach(i=>{e.data[s].push({newTab:i.newTab,url:i.url,media:t[`entity-${n}`].get(i.mediaId)})}))})}});var I=s("2gFg"),S=s("gEEs");Shopware.Locale.extend("de-DE",I),Shopware.Locale.extend("en-GB",S)},TOIP:function(e,t){e.exports='{% block sw_cms_block_test_slider_preview %}\n    <div class="sw-cms-block-preview-test-slider">\n        <sw-icon name="default-arrow-head-left" size="40"></sw-icon>\n        <div>\n            <img :src="\'/administration/static/img/cms/preview_mountain_small.jpg\' | asset">\n        </div>\n        <sw-icon name="default-arrow-head-right" size="40"></sw-icon>\n    </div>\n{% endblock %}'},gEEs:function(e){e.exports=JSON.parse('{"sw-cms":{"elements":{"general":{"config":{"caption":{"mediaUpload":"Upload an image"},"label":{"verticalAlign":"Vertical align","verticalAlignTop":"Top","verticalAlignCenter":"Center","verticalAlignBottom":"Bottom","displayMode":"Display mode","displayModeStandard":"Standard","displayModeCover":"Cover","displayModeStretch":"Stretch","displayModeContain":"Contain"},"tab":{"content":"Content","settings":"Settings"}}},"testSlider":{"label":"Test Slider"}},"blocks":{"image":{"testSlider":{"label":"Test Slider"}}}}}')},jVju:function(e,t,s){},kmML:function(e,t,s){var i=s("IL6/");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,s("SZ7m").default)("c242f030",i,!0,{})},mkOS:function(e,t,s){},q4SJ:function(e,t){e.exports='{% block sw_cms_element_test_slider_config %}\n    <div class="sw-cms-el-config-test-slider">\n        {% block sw_cms_element_test_slider_config_tabs %}\n            <sw-tabs class="sw-cms-el-config-test-slider__tabs" defaultItem="content">\n                <template slot-scope="{ active }" >\n                    {% block sw_cms_element_test_slider_config_tab_content %}\n                        <sw-tabs-item :title="$tc(\'sw-cms.elements.general.config.tab.content\')"\n                                      name="content"\n                                      :activeTab="active">\n                            {{ $tc(\'sw-cms.elements.general.config.tab.content\') }}\n                        </sw-tabs-item>\n                    {% endblock %}\n                    {% block sw_cms_element_test_slider_config_tab_options %}\n                        <sw-tabs-item :title="$tc(\'sw-cms.elements.general.config.tab.settings\')"\n                                      name="settings"\n                                      :activeTab="active">\n                            {{ $tc(\'sw-cms.elements.general.config.tab.settings\') }}\n                        </sw-tabs-item>\n                    {% endblock %}\n                </template>\n\n                <template slot="content" slot-scope="{ active }">\n                    {% block sw_cms_element_test_slider_config_content %}\n                        <sw-container v-if="active === \'content\'" class="sw-cms-el-config-test-slider__tab-content">\n                            {% block sw_cms_element_test_slider_config_media_selection %}\n                                <sw-media-list-selection-v2\n                                        :entityMediaItems="mediaItems"\n                                        :entity="entity"\n                                        :uploadTag="uploadTag"\n                                        :defaultFolderName="defaultFolderName"\n                                        @upload-finish="onImageUpload"\n                                        @item-remove="onItemRemove"\n                                        @open-sidebar="onOpenMediaModal">\n                                </sw-media-list-selection-v2>\n                            {% endblock %}\n\n                            {% block sw_cms_element_test_slider_config_media_modal %}\n                                <sw-media-modal-v2\n                                        variant="regular"\n                                        v-if="mediaModalIsOpen"\n                                        :caption="$tc(\'sw-cms.elements.general.config.caption.mediaUpload\')"\n                                        :entityContext="cmsPageState.entityName"\n                                        :initialFolderId="cmsPageState.defaultMediaFolderId"\n                                        @media-upload-remove-image="onItemRemove"\n                                        @media-modal-selection-change="onMediaSelectionChange"\n                                        @modal-close="onCloseMediaModal">\n                                </sw-media-modal-v2>\n                            {% endblock %}\n                        </sw-container>\n                    {% endblock %}\n\n                    {% block sw_cms_element_test_slider_config_settings %}\n                        <sw-container v-if="active === \'settings\'" class="sw-cms-el-config-test-slider__tab-settings">\n                            <div class="sw-cms-el-config-test-slider__settings-options">\n\n                                {% block sw_cms_element_image_gallery_config_settings_display_mode %}\n                                    <div class="sw-cms-el-config-test-slider__setting-option">\n\n                                        {% block sw_cms_element_image_gallery_config_settings_display_mode_select %}\n                                            <sw-select-field :label="$tc(\'sw-cms.elements.general.config.label.displayMode\')"\n                                                             v-model="element.config.displayMode.value"\n                                                             @change="onChangeDisplayMode"\n                                                             class="sw-cms-el-config-test-slider__setting-display-mode">\n                                                <option value="standard">{{ $tc(\'sw-cms.elements.general.config.label.displayModeStandard\') }}</option>\n                                                <option value="cover">{{ $tc(\'sw-cms.elements.general.config.label.displayModeCover\') }}</option>\n                                                <option value="contain">{{ $tc(\'sw-cms.elements.general.config.label.displayModeContain\') }}</option>\n                                            </sw-select-field>\n                                        {% endblock %}\n\n                                        {% block sw_cms_element_image_gallery_config_settings_min_height %}\n                                            <sw-text-field :label="$tc(\'sw-cms.elements.image.config.label.minHeight\')"\n                                                           :placeholder="$tc(\'sw-cms.elements.image.config.label.minHeight\')"\n                                                           :disabled="element.config.displayMode.value !== \'cover\'"\n                                                           v-model="element.config.minHeight.value"\n                                                           @input="onChangeMinHeight">\n                                            </sw-text-field>\n                                        {% endblock %}\n\n                                        {% block sw_cms_element_image_gallery_config_settings_vertical_align %}\n                                            <sw-select-field :label="$tc(\'sw-cms.elements.general.config.label.verticalAlign\')"\n                                                             v-model="element.config.verticalAlign.value"\n                                                             :placeholder="$tc(\'sw-cms.elements.general.config.label.verticalAlign\')"\n                                                             :disabled="element.config.displayMode.value === \'cover\'">\n                                                <option value="flex-start">{{ $tc(\'sw-cms.elements.general.config.label.verticalAlignTop\') }}</option>\n                                                <option value="center">{{ $tc(\'sw-cms.elements.general.config.label.verticalAlignCenter\') }}</option>\n                                                <option value="flex-end">{{ $tc(\'sw-cms.elements.general.config.label.verticalAlignBottom\') }}</option>\n                                            </sw-select-field>\n                                        {% endblock %}\n                                    </div>\n                                {% endblock %}\n\n\n                                {% block sw_cms_element_test_slider_config_settings_navigation %}\n                                    <div class="sw-cms-el-config-test-slider__setting-navigations sw-cms-el-config-test-slider__setting-option">\n                                        <div class="sw-cms-el-config-test-slider__settings-navigation">\n\n                                            {% block sw_cms_element_test_slider_config_settings_navigation_arrow_position %}\n                                                <sw-field type="select"\n                                                          v-model="element.config.navigationArrows.value"\n                                                          @change="emitUpdateEl"\n                                                          :label="$tc(\'sw-cms.elements.testSlider.config.label.navigationArrows\')">\n\n                                                    <option :value="null">\n                                                        {{ $tc(\'sw-cms.elements.testSlider.config.label.navigationPositionNone\') }}\n                                                    </option>\n                                                    <option value="inside">\n                                                        {{ $tc(\'sw-cms.elements.testSlider.config.label.navigationPositionInside\') }}\n                                                    </option>\n                                                    <option value="outside">\n                                                        {{ $tc(\'sw-cms.elements.testSlider.config.label.navigationPositionOutside\') }}\n                                                    </option>\n                                                </sw-field>\n                                            {% endblock %}\n                                        </div>\n\n                                        <div class="sw-cms-el-config-test-slider__settings-navigation">\n\n                                            {% block sw_cms_element_test_slider_config_settings_navigation_dots_position %}\n                                                <sw-field type="select"\n                                                          v-model="element.config.navigationDots.value"\n                                                          @change="emitUpdateEl"\n                                                          :label="$tc(\'sw-cms.elements.testSlider.config.label.navigationDots\')">\n\n                                                    <option :value="null">\n                                                        {{ $tc(\'sw-cms.elements.testSlider.config.label.navigationPositionNone\') }}\n                                                    </option>\n                                                    <option value="inside">\n                                                        {{ $tc(\'sw-cms.elements.testSlider.config.label.navigationPositionInside\') }}\n                                                    </option>\n                                                    <option value="outside">\n                                                        {{ $tc(\'sw-cms.elements.testSlider.config.label.navigationPositionOutside\') }}\n                                                    </option>\n                                                </sw-field>\n                                            {% endblock %}\n                                        </div>\n                                    </div>\n                                {% endblock %}\n\n                                {% block sw_cms_element_test_slider_config_settings_links %}\n                                    <div class="sw-cms-el-config-test-slider__settings-links sw-cms-el-config-test-slider__setting-option">\n                                        <div class="sw-cms-el-config-test-slider__settings-link"\n                                             v-for="sliderItem in items">\n\n                                            {% block sw_cms_element_test_slider_config_settings_link_url %}\n                                                <sw-field v-model="sliderItem.url"\n                                                          class="sw-cms-el-config-test-slider__settings-link-input"\n                                                          :key="sliderItem.mediaId"\n                                                          :name="sliderItem.mediaUrl"\n                                                          type="text"\n                                                          :label="$tc(\'sw-cms.elements.image.config.label.linkTo\')"\n                                                          :placeholder="$tc(\'sw-cms.elements.image.config.placeholder.enterUrl\')">\n                                                    <template #prefix>\n                                                        <img class="sw-cms-el-config-test-slider__settings-link-prefix"\n                                                             :src="sliderItem.mediaUrl"\n                                                             v-if="sliderItem.mediaUrl">\n                                                    </template>\n                                                </sw-field>\n                                            {% endblock %}\n\n                                            {% block sw_cms_element_test_slider_config_settings_link_target %}\n                                                <sw-field class="sw-cms-el-config-test-slider__settings-link-tab"\n                                                          v-model="sliderItem.newTab"\n                                                          type="switch"\n                                                          :name="sliderItem.mediaId"\n                                                          :label="$tc(\'sw-cms.elements.image.config.label.linkNewTab\')">\n                                                </sw-field>\n                                            {% endblock %}\n                                        </div>\n                                    </div>\n                                {% endblock %}\n                            </div>\n                        </sw-container>\n                    {% endblock %}\n                </template>\n            </sw-tabs>\n        {% endblock %}\n    </div>\n{% endblock %}'},xTHp:function(e,t){e.exports='{% block sw_cms_block_test_slider %}\n    <div class="sw-cms-block-test-slider">\n        <slot name="testSlider">{% block sw_cms_block_test_slider_slot_test_slider %}{% endblock %}</slot>\n    </div>\n{% endblock %}'},z7cm:function(e,t,s){var i=s("jVju");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,s("SZ7m").default)("7b18738b",i,!0,{})}},[["ImFT","runtime","vendors-node"]]]);