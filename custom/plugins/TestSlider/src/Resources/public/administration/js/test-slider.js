(this.webpackJsonp=this.webpackJsonp||[]).push([["test-slider"],{"0eMa":function(e,t){e.exports='{% block sw_cms_element_test_slider %}\n    <div class="sw-cms-element-test-slider" :class="outsideNavArrows" :style="verticalAlignStyle">\n        {% block sw_cms_element_test_slider_img %}\n            <div class="sw-cms-element-test-slider__image-box" :class="displayModeClass" :style="styles">\n                <img class="sw-cms-element-test-slider__image" :src="imgSrc">\n            </div>\n        {% endblock %}\n\n        <template v-if="element.data !== null">\n            {% block sw_cms_element_test_slider_nav %}\n                <div class="sw-cms-element-test-slider__navigation">\n                    {% block sw_cms_element_test_slider_nav_dots %}\n                        <div v-if="element.config.navigationDots.value !== null"\n                             class="sw-cms-element-test-slider__navigation-dots"\n                             :class="`is--nav-${element.config.navigationDots.value}`">\n                            <div class="sw-cms-element-test-slider__navigation-buttons">\n                                <template v-if="sliderItems.length > 0">\n                                    <div v-for="(sliderItem, index) in sliderItems"\n                                         :class="activeButtonClass(sliderItem.media.url)"\n                                         @click="setSliderItem(sliderItem.media, index)"\n                                         class="sw-cms-element-test-slider__navigation-button">\n                                    </div>\n                                </template>\n                                <template v-else>\n                                    <div class="sw-cms-element-test-slider__navigation-button is--active"></div>\n                                    <div class="sw-cms-element-test-slider__navigation-button"></div>\n                                    <div class="sw-cms-element-test-slider__navigation-button"></div>\n                                </template>\n                            </div>\n                        </div>\n                    {% endblock %}\n                    {% block sw_cms_element_test_slider_nav_arrows %}\n                        <div v-if="element.config.navigationArrows.value !== null"\n                             class="sw-cms-element-test-slider__navigation-arrows"\n                             :class="`is--nav-${element.config.navigationArrows.value}`">\n                            <sw-icon @click="setSliderArrowItem(-1)"\n                                     class="sw-cms-element-test-slider__navigation-button"\n                                     name="default-arrow-head-left"\n                                     size="24">\n                            </sw-icon>\n                            <sw-icon @click="setSliderArrowItem()"\n                                     class="sw-cms-element-test-slider__navigation-button"\n                                     name="default-arrow-head-right"\n                                     size="24">\n                            </sw-icon>\n                        </div>\n                    {% endblock %}\n                </div>\n            {% endblock %}\n        </template>\n\n        <template v-else>\n            {% block sw_cms_element_test_slider_nav_default %}\n                <div class="sw-cms-element-test-slider__navigation">\n                    <div class="sw-cms-element-test-slider__navigation-arrows is--nav-outside">\n                        <sw-icon class="sw-cms-element-test-slider__navigation-button"\n                                 name="default-arrow-head-left"\n                                 size="24">\n                        </sw-icon>\n                        <sw-icon class="sw-cms-element-test-slider__navigation-button"\n                                 name="default-arrow-head-right"\n                                 size="24">\n                        </sw-icon>\n                    </div>\n                </div>\n            {% endblock %}\n        </template>\n    </div>\n{% endblock %}'},"2gFg":function(e){e.exports=JSON.parse('{"sw-cms":{"elements":{"general":{"config":{"caption":{"mediaUpload":"Lade ein Bild hoch"},"label":{"verticalAlign":"Vertikal ausrichten","verticalAlignTop":"Oben","verticalAlignCenter":"Center","verticalAlignBottom":"Unten","displayMode":"Anzeigemodus","displayModeStandard":"Standard","displayModeCover":"Decken","displayModeStretch":"Strecken","displayModeContain":"Enthalten"},"tab":{"content":"Inhalt","settings":"Einstellungen"}}},"testSlider":{"label":"Test Slider"}},"blocks":{"image":{"testSlider":{"label":"Test Slider"}}}}}')},DALc:function(e,t){e.exports='{% block sw_cms_element_preview_test_slider %}\n    <div class="sw-cms-element-preview-test-slider">\n        <sw-icon name="default-arrow-head-left" size="20"></sw-icon>\n        <div>\n            <img :src="\'/administration/static/img/cms/preview_mountain_small.jpg\' | asset">\n        </div>\n        <sw-icon name="default-arrow-head-right" size="20"></sw-icon>\n    </div>\n{% endblock %}'},DtTR:function(e,t,n){},HzgH:function(e,t,n){var s=n("IK5r");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,n("SZ7m").default)("71dfb4bf",s,!0,{})},IK5r:function(e,t,n){},ImFT:function(e,t,n){"use strict";n.r(t);var s=n("xTHp"),i=n.n(s);const{Component:l}=Shopware;l.register("sw-cms-block-test-slider",{template:i.a});var a=n("TOIP"),o=n.n(a);n("HzgH");const{Component:c}=Shopware;c.register("sw-cms-block-preview-test-slider",{template:o.a}),Shopware.Service("cmsService").registerCmsBlock({name:"test-slider",label:"sw-cms.blocks.image.testSlider.label",category:"image",component:"sw-cms-block-test-slider",previewComponent:"sw-cms-block-preview-test-slider",defaultConfig:{marginBottom:"20px",marginTop:"20px",marginLeft:"20px",marginRight:"20px",sizingMode:"boxed"},slots:{testSlider:"test-slider"}});var m=n("0eMa"),d=n.n(m);n("hqG3");const{Component:r,Mixin:g}=Shopware;r.register("sw-cms-element-test-slider",{template:d.a,mixins:[g.getByName("cms-element")],props:{activeMedia:{type:[Object,null],required:!1,default:null}},data:()=>({columnCount:7,columnWidth:90,sliderPos:0,imgPath:"/administration/static/img/cms/preview_plant_small.jpg",imgSrc:""}),computed:{gridAutoRows(){return`grid-auto-rows: ${this.columnWidth}`},uploadTag(){return`cms-element-media-config-${this.element.id}`},sliderItems(){return this.element.data&&this.element.data.sliderItems&&this.element.data.sliderItems.length>0?this.element.data.sliderItems:[]},displayModeClass(){return"standard"===this.element.config.displayMode.value?null:`is--${this.element.config.displayMode.value}`},styles(){return"cover"===this.element.config.displayMode.value&&0!==this.element.config.minHeight.value?{"min-height":this.element.config.minHeight.value}:{}},outsideNavArrows(){return"outside"===this.element.config.navigationArrows.value?"has--outside-arrows":null},verticalAlignStyle(){return this.element.config.verticalAlign.value?`align-self: ${this.element.config.verticalAlign.value};`:null},contextAssetPath:()=>Shopware.Context.api.assetsPath},watch:{"element.data.sliderItems":{handler(){this.sliderItems.length>0?(this.imgSrc=this.sliderItems[0].media.url,this.$emit("active-image-change",this.sliderItems[0].media)):this.imgSrc=`${this.contextAssetPath}${this.imgPath}`},deep:!0},activeMedia(){this.sliderPos=this.activeMedia.sliderIndex,this.imgSrc=this.activeMedia.url}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("test-slider"),this.initElementData("test-slider"),this.element.data&&this.element.data.sliderItems&&this.element.data.sliderItems.length>0?(this.imgSrc=this.sliderItems[0].media.url,this.$emit("active-image-change",this.sliderItems[this.sliderPos].media)):this.imgSrc=`${this.contextAssetPath}${this.imgPath}`},setSliderItem(e,t){this.imgSrc=e.url,this.$emit("active-image-change",e,t)},activeButtonClass(e){return{"is--active":this.imgSrc===e}},setSliderArrowItem(e=1){this.sliderItems.length<2||(this.sliderPos+=e,this.sliderPos<0&&(this.sliderPos=this.sliderItems.length-1),this.sliderPos>this.sliderItems.length-1&&(this.sliderPos=0),this.imgSrc=this.sliderItems[this.sliderPos].media.url,this.$emit("active-image-change",this.sliderItems[this.sliderPos].media,this.sliderPos))}}});var v=n("ck5K"),_=n.n(v);n("fyv9");const{Component:p,Mixin:h}=Shopware,{cloneDeep:w}=Shopware.Utils.object,f=Shopware.Data.Criteria;p.register("sw-cms-element-config-test-slider",{template:_.a,mixins:[h.getByName("cms-element")],inject:["repositoryFactory"],data(){return{mediaModalIsOpen:!1,initialFolderId:null,entity:this.element,mediaItems:[]}},computed:{uploadTag(){return`cms-element-media-config-${this.element.id}`},mediaRepository(){return this.repositoryFactory.create("media")},defaultFolderName(){return this.cmsPageState.pageEntityName},items(){return this.element.config&&this.element.config.sliderItems&&this.element.config.sliderItems.value?this.element.config.sliderItems.value:[]}},created(){this.createdComponent()},methods:{async createdComponent(){if(this.initElementConfig("test-slider"),this.element.config.sliderItems.value.length>0){const e=this.element.config.sliderItems.value.map(e=>e.mediaId),t=new f;t.setIds(e);const n=await this.mediaRepository.search(t,Shopware.Context.api);this.mediaItems=e.map(e=>n.get(e))}},onImageUpload(e){this.element.config.sliderItems.value.push({mediaUrl:e.url,mediaId:e.id,url:null,newTab:!1}),this.mediaItems.push(e),this.updateMediaDataValue(),this.emitUpdateEl()},onItemRemove(e,t){const n=e.id,{value:s}=this.element.config.sliderItems;this.element.config.sliderItems.value=s.filter((e,s)=>e.mediaId!==n||s!==t),this.mediaItems=this.mediaItems.filter((e,s)=>e.id!==n||s!==t),this.updateMediaDataValue(),this.emitUpdateEl()},onCloseMediaModal(){this.mediaModalIsOpen=!1},onMediaSelectionChange(e){e.forEach(e=>{this.element.config.sliderItems.value.push({mediaUrl:e.url,mediaId:e.id,url:null,newTab:!1})}),this.mediaItems.push(...e),this.updateMediaDataValue(),this.emitUpdateEl()},updateMediaDataValue(){if(this.element.config.sliderItems.value){const e=w(this.element.config.sliderItems.value);e.forEach(e=>{this.mediaItems.forEach(t=>{e.mediaId===t.id&&(e.media=t)})}),this.$set(this.element.data,"sliderItems",e)}},onOpenMediaModal(){this.mediaModalIsOpen=!0},onChangeMinHeight(e){this.element.config.minHeight.value=null===e?"":e,this.$emit("element-update",this.element)},onChangeDisplayMode(e){"cover"===e?this.element.config.verticalAlign.value=null:this.element.config.minHeight.value="",this.$emit("element-update",this.element)},emitUpdateEl(){this.$emit("element-update",this.element)}}});var u=n("DALc"),b=n.n(u);n("rGMA");const{Component:k}=Shopware;k.register("sw-cms-element-preview-test-slider",{template:b.a}),Shopware.Service("cmsService").registerCmsElement({name:"test-slider",label:"sw-cms.elements.testSlider.label",category:"image",component:"sw-cms-element-test-slider",configComponent:"sw-cms-element-config-test-slider",previewComponent:"sw-cms-element-preview-test-slider",defaultConfig:{sliderItems:{source:"static",value:[],required:!0,entity:{name:"media"}},navigationArrows:{source:"static",value:"inside"},navigationDots:{source:"static",value:"inside"},displayMode:{source:"static",value:"standard"},minHeight:{source:"static",value:"440px"}},enrich:function(e,t){Object.keys(t).length<1||Object.keys(e.config).forEach(n=>{const s=e.config[n].entity;if(!s)return;const i=s.name;t[`entity-${i}`]&&(e.data[n]=[],e.config[n].value.forEach(s=>{e.data[n].push({newTab:s.newTab,url:s.url,media:t[`entity-${i}`].get(s.mediaId)})}))})}});var I=n("2gFg"),S=n("gEEs");Shopware.Locale.extend("de-DE",I),Shopware.Locale.extend("en-GB",S)},MLSj:function(e,t,n){},TOIP:function(e,t){e.exports='{% block sw_cms_block_preview_test_slider %}\n    <div class="sw-cms-block-preview-test-slider">\n        <sw-icon name="default-arrow-head-left" class="default-arrow-head-left" size="40"></sw-icon>\n        <div>\n            <img :src="\'/administration/static/img/cms/preview_mountain_small.jpg\' | asset">\n        </div>\n        <sw-icon name="default-arrow-head-right" class="default-arrow-head-right" size="40"></sw-icon>\n    </div>\n{% endblock %}'},ck5K:function(e,t){e.exports='{% block sw_cms_element_test_slider_config %}\n    <div class="sw-cms-element-config-test-slider">\n        {% block sw_cms_element_test_slider_config_tabs %}\n            <sw-tabs class="sw-cms-element-config-test-slider__tabs" defaultItem="content">\n                <template slot-scope="{ active }" >\n                    {% block sw_cms_element_test_slider_config_tab_content %}\n                        <sw-tabs-item :title="$tc(\'sw-cms.elements.general.config.tab.content\')"\n                                      name="content"\n                                      :activeTab="active">\n                            {{ $tc(\'sw-cms.elements.general.config.tab.content\') }}\n                        </sw-tabs-item>\n                    {% endblock %}\n                    {% block sw_cms_element_test_slider_config_tab_options %}\n                        <sw-tabs-item :title="$tc(\'sw-cms.elements.general.config.tab.settings\')"\n                                      name="settings"\n                                      :activeTab="active">\n                            {{ $tc(\'sw-cms.elements.general.config.tab.settings\') }}\n                        </sw-tabs-item>\n                    {% endblock %}\n                </template>\n\n                <template slot="content" slot-scope="{ active }">\n                    {% block sw_cms_element_test_slider_config_content %}\n                        <sw-container v-if="active === \'content\'" class="sw-cms-element-config-test-slider__tab-content">\n                            {% block sw_cms_element_test_slider_config_media_selection %}\n                                <sw-media-list-selection-v2\n                                        :entityMediaItems="mediaItems"\n                                        :entity="entity"\n                                        :uploadTag="uploadTag"\n                                        :defaultFolderName="defaultFolderName"\n                                        @upload-finish="onImageUpload"\n                                        @item-remove="onItemRemove"\n                                        @open-sidebar="onOpenMediaModal">\n                                </sw-media-list-selection-v2>\n                            {% endblock %}\n\n                            {% block sw_cms_element_test_slider_config_media_modal %}\n                                <sw-media-modal-v2\n                                        variant="regular"\n                                        v-if="mediaModalIsOpen"\n                                        :caption="$tc(\'sw-cms.elements.general.config.caption.mediaUpload\')"\n                                        :entityContext="cmsPageState.entityName"\n                                        :initialFolderId="cmsPageState.defaultMediaFolderId"\n                                        @media-upload-remove-image="onItemRemove"\n                                        @media-modal-selection-change="onMediaSelectionChange"\n                                        @modal-close="onCloseMediaModal">\n                                </sw-media-modal-v2>\n                            {% endblock %}\n                        </sw-container>\n                    {% endblock %}\n\n                    {% block sw_cms_element_test_slider_config_settings %}\n                        <sw-container v-if="active === \'settings\'" class="sw-cms-element-config-test-slider__tab-settings">\n                            <div class="sw-cms-element-config-test-slider__settings-options">\n\n                                {% block sw_cms_element_image_gallery_config_settings_display_mode %}\n                                    <div class="sw-cms-element-config-test-slider__setting-option">\n\n                                        {% block sw_cms_element_image_gallery_config_settings_display_mode_select %}\n                                            <sw-select-field :label="$tc(\'sw-cms.elements.general.config.label.displayMode\')"\n                                                             v-model="element.config.displayMode.value"\n                                                             @change="onChangeDisplayMode"\n                                                             class="sw-cms-element-config-test-slider__setting-display-mode">\n                                                <option value="standard">{{ $tc(\'sw-cms.elements.general.config.label.displayModeStandard\') }}</option>\n                                                <option value="cover">{{ $tc(\'sw-cms.elements.general.config.label.displayModeCover\') }}</option>\n                                                <option value="contain">{{ $tc(\'sw-cms.elements.general.config.label.displayModeContain\') }}</option>\n                                            </sw-select-field>\n                                        {% endblock %}\n\n                                        {% block sw_cms_element_image_gallery_config_settings_min_height %}\n                                            <sw-text-field :label="$tc(\'sw-cms.elements.image.config.label.minHeight\')"\n                                                           :placeholder="$tc(\'sw-cms.elements.image.config.label.minHeight\')"\n                                                           :disabled="element.config.displayMode.value !== \'cover\'"\n                                                           v-model="element.config.minHeight.value"\n                                                           @input="onChangeMinHeight">\n                                            </sw-text-field>\n                                        {% endblock %}\n\n                                        {% block sw_cms_element_image_gallery_config_settings_vertical_align %}\n                                            <sw-select-field :label="$tc(\'sw-cms.elements.general.config.label.verticalAlign\')"\n                                                             v-model="element.config.verticalAlign.value"\n                                                             :placeholder="$tc(\'sw-cms.elements.general.config.label.verticalAlign\')"\n                                                             :disabled="element.config.displayMode.value === \'cover\'">\n                                                <option value="flex-start">{{ $tc(\'sw-cms.elements.general.config.label.verticalAlignTop\') }}</option>\n                                                <option value="center">{{ $tc(\'sw-cms.elements.general.config.label.verticalAlignCenter\') }}</option>\n                                                <option value="flex-end">{{ $tc(\'sw-cms.elements.general.config.label.verticalAlignBottom\') }}</option>\n                                            </sw-select-field>\n                                        {% endblock %}\n                                    </div>\n                                {% endblock %}\n\n\n                                {% block sw_cms_element_test_slider_config_settings_navigation %}\n                                    <div class="sw-cms-element-config-test-slider__setting-navigations sw-cms-element-config-test-slider__setting-option">\n                                        <div class="sw-cms-element-config-test-slider__settings-navigation">\n\n                                            {% block sw_cms_element_test_slider_config_settings_navigation_arrow_position %}\n                                                <sw-field type="select"\n                                                          v-model="element.config.navigationArrows.value"\n                                                          @change="emitUpdateEl"\n                                                          :label="$tc(\'sw-cms.elements.testSlider.config.label.navigationArrows\')">\n\n                                                    <option :value="null">\n                                                        {{ $tc(\'sw-cms.elements.testSlider.config.label.navigationPositionNone\') }}\n                                                    </option>\n                                                    <option value="inside">\n                                                        {{ $tc(\'sw-cms.elements.testSlider.config.label.navigationPositionInside\') }}\n                                                    </option>\n                                                    <option value="outside">\n                                                        {{ $tc(\'sw-cms.elements.testSlider.config.label.navigationPositionOutside\') }}\n                                                    </option>\n                                                </sw-field>\n                                            {% endblock %}\n                                        </div>\n\n                                        <div class="sw-cms-element-config-test-slider__settings-navigation">\n\n                                            {% block sw_cms_element_test_slider_config_settings_navigation_dots_position %}\n                                                <sw-field type="select"\n                                                          v-model="element.config.navigationDots.value"\n                                                          @change="emitUpdateEl"\n                                                          :label="$tc(\'sw-cms.elements.testSlider.config.label.navigationDots\')">\n\n                                                    <option :value="null">\n                                                        {{ $tc(\'sw-cms.elements.testSlider.config.label.navigationPositionNone\') }}\n                                                    </option>\n                                                    <option value="inside">\n                                                        {{ $tc(\'sw-cms.elements.testSlider.config.label.navigationPositionInside\') }}\n                                                    </option>\n                                                    <option value="outside">\n                                                        {{ $tc(\'sw-cms.elements.testSlider.config.label.navigationPositionOutside\') }}\n                                                    </option>\n                                                </sw-field>\n                                            {% endblock %}\n                                        </div>\n                                    </div>\n                                {% endblock %}\n\n                                {% block sw_cms_element_test_slider_config_settings_links %}\n                                    <div class="sw-cms-element-config-test-slider__settings-links sw-cms-element-config-test-slider__setting-option">\n                                        <div class="sw-cms-element-config-test-slider__settings-link"\n                                             v-for="sliderItem in items">\n\n                                            {% block sw_cms_element_test_slider_config_settings_link_url %}\n                                                <sw-field v-model="sliderItem.url"\n                                                          class="sw-cms-element-config-test-slider__settings-link-input"\n                                                          :key="sliderItem.mediaId"\n                                                          :name="sliderItem.mediaUrl"\n                                                          type="text"\n                                                          :label="$tc(\'sw-cms.elements.image.config.label.linkTo\')"\n                                                          :placeholder="$tc(\'sw-cms.elements.image.config.placeholder.enterUrl\')">\n                                                    <template #prefix>\n                                                        <img class="sw-cms-element-config-test-slider__settings-link-prefix"\n                                                             :src="sliderItem.mediaUrl"\n                                                             v-if="sliderItem.mediaUrl">\n                                                    </template>\n                                                </sw-field>\n                                            {% endblock %}\n\n                                            {% block sw_cms_element_test_slider_config_settings_link_target %}\n                                                <sw-field class="sw-cms-element-config-test-slider__settings-link-tab"\n                                                          v-model="sliderItem.newTab"\n                                                          type="switch"\n                                                          :name="sliderItem.mediaId"\n                                                          :label="$tc(\'sw-cms.elements.image.config.label.linkNewTab\')">\n                                                </sw-field>\n                                            {% endblock %}\n                                        </div>\n                                    </div>\n                                {% endblock %}\n                            </div>\n                        </sw-container>\n                    {% endblock %}\n                </template>\n            </sw-tabs>\n        {% endblock %}\n    </div>\n{% endblock %}'},fyv9:function(e,t,n){var s=n("h6q5");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,n("SZ7m").default)("a4c50956",s,!0,{})},gEEs:function(e){e.exports=JSON.parse('{"sw-cms":{"elements":{"general":{"config":{"caption":{"mediaUpload":"Upload an image"},"label":{"verticalAlign":"Vertical align","verticalAlignTop":"Top","verticalAlignCenter":"Center","verticalAlignBottom":"Bottom","displayMode":"Display mode","displayModeStandard":"Standard","displayModeCover":"Cover","displayModeStretch":"Stretch","displayModeContain":"Contain"},"tab":{"content":"Content","settings":"Settings"}}},"testSlider":{"label":"Test Slider"}},"blocks":{"image":{"testSlider":{"label":"Test Slider"}}}}}')},h6q5:function(e,t,n){},hqG3:function(e,t,n){var s=n("DtTR");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,n("SZ7m").default)("6c4041d6",s,!0,{})},rGMA:function(e,t,n){var s=n("MLSj");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,n("SZ7m").default)("36eecb6b",s,!0,{})},xTHp:function(e,t){e.exports='{% block sw_cms_block_test_slider %}\n    <div class="sw-cms-block-test-slider">\n        <slot name="testSlider"></slot>\n    </div>\n{% endblock %}'}},[["ImFT","runtime","vendors-node"]]]);